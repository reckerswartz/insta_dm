:concurrency: <%= ENV.fetch("SIDEKIQ_CONCURRENCY", 5) %>
# Give workers more time to shut down gracefully so long-running local LLM
# inference jobs can checkpoint and be resumed cleanly instead of being cut off.
:timeout: <%= ENV.fetch("SIDEKIQ_SHUTDOWN_TIMEOUT_SECONDS", 180) %>

:queues:
  # AI and story analysis lanes are isolated by dedicated Sidekiq capsules in
  # `config/initializers/sidekiq.rb` using `Ops::AiServiceQueueRegistry`.
  - [sync, 4]
  - [engagements, 2]
  - [workspace_actions_queue, 2]
  - [post_downloads, 3]
  - [captured_posts, 2]
  - [profiles, 2]
  - [messages, 2]
  - [avatar_orchestration, 1]
  - [avatars, 1]
  - [story_engagement_actions, 1]
  - [maintenance, 1]
  - [default, 1]

# 2026-02-20

- Added documentation index and maintenance mapping in `docs/README.md`.
- Added architecture reference in `docs/architecture/system-overview.md`.
- Added workflow docs:
  - `docs/workflows/account-sync-and-processing.md`
  - `docs/workflows/post-analysis-pipeline.md`
  - `docs/workflows/story-intelligence-pipeline.md`
  - `docs/workflows/workspace-actions-queue.md`
- Added query/lookup reference in `docs/components/lookups-and-query-surfaces.md`.
- Added operations docs:
  - `docs/operations/background-jobs-and-schedules.md`
  - `docs/operations/debugging-playbook.md`
- Added changelog policy in `docs/changelog/README.md`.
- Added inline code documentation in complex orchestration/state-management paths:
  - `app/services/ai/post_analysis_pipeline_state.rb`
  - `app/jobs/finalize_post_analysis_pipeline_job.rb`
  - `app/jobs/workspace_process_actions_todo_post_job.rb`
  - `app/jobs/sync_recent_profile_posts_for_profile_job.rb`
- Simplified root onboarding docs by rewriting `README.md` to focus on setup, core commands, and navigation.
- Moved detailed facade guidelines into `docs/architecture/instagram-client-facade-guidelines.md` and converted `docs/architecture/ARCHITECTURE.md` into a pointer.
- Reorganized `docs/README.md` into a strict onboarding order and explicit architecture/workflow/operations sections.
- Refactored admin background-job surfaces by extracting `Admin::BackgroundJobs::*` services (dashboard snapshot, queue clearing, failure query/payload, and recent-job details enrichment) and documented extension guidelines in:
  - `docs/operations/background-jobs-and-schedules.md`
  - `docs/components/lookups-and-query-surfaces.md`
  - `docs/architecture/system-overview.md`
- Refactored story-scraper integration surfaces by splitting `StoryScraperService` into focused components:
  - `app/services/instagram/client/story_scraper/home_carousel_sync.rb`
  - `app/services/instagram/client/story_scraper/carousel_opening.rb`
  - `app/services/instagram/client/story_scraper/carousel_navigation.rb`
  - `app/services/instagram/client/story_scraper/sync_stats.rb`
- Updated facade architecture guidance with the new story-scraper component responsibilities and extension rules in:
  - `docs/architecture/instagram-client-facade-guidelines.md`
- Refactored comment-generation architecture into smaller reusable components:
  - `app/services/llm_comment/event_generation_pipeline.rb`
  - `app/services/ai/post_comment_generation/signal_context.rb`
  - `app/services/ai/post_comment_generation/policy_persistence.rb`
  - simplified `app/models/instagram_profile_event/comment_generation_coordinator.rb`
  - simplified `app/services/ai/post_comment_generation_service.rb`
- Added maintenance guidance for this refactor in:
  - `docs/architecture/comment-generation-refactor-guidelines.md`
  - updated `docs/architecture/ai-services-architecture.md`
